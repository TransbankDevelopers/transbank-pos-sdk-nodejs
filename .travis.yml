language: node_js
os: linux
dist: xenial
node_js:
  - stable

script: npm run test

before_deploy:
  - sh package.sh

deploy:
  - provider: releases
    skip_cleanup: true
    name: "$TRAVIS_TAG"
    api_key:
      secure: "CrAgdVuBuo6ADxUTNpQBQB3bc7fUyiS3/mGmNLq1V3VFAhc/N3JCMSHn8gOYmhTUIKU+nCPlvtRwX5JAFeIw2SdksLMU0MmLScgjufi5dtjkbuN1xEj1CwOGR6FLlKiV8g+lsZbbVVozLjG0Z35qH5YiqhXjBd0wz/65w5/u39L8Kcl7u3D/Q+V5SBKiaxgCWWdioSAFDuJnC2eDOoVfmqmuKb6z1PQBRCMhaiSLJxOCy0AByhoTQ88pqEDI2QiBZTwsvcm3ASmSQsBKG8X2feHJlrFghP5dgkugPR7anIi1+GOi/9TGd0KtDZdo6kRANACcLXvJ5DUwwfQWSBVFtfHlKxGhE27iaENQGGx8KcUVkjzqbCEHHTfXe0V9unX+m8RFpIGQ7aQZdz6Hj7uT8svryWaazOUgu13HkSEweaYvhoWZCTB5Q7DmKOBssNnOQym2Ij6TP3WhdQ4LvxAKeyUpICJjrVwQCeQ5q6x/IOs+zafosO2J2g/E6m/BpKU3LBtHrYXwVI2t8MwsqS3eTGO7FLmigUrDUrDOjU5DWpA1P+ngg2yfPPMFzTlBXisRAdV3srFMHlV7OfmNEjmGUYNFnAZ1/0risVDA41F5dU/RdPLEoH9OEo5xNVTvuOJrZAEfdjCkdgX3myHArtz/DDFK499B58wcN5eAjQ+4Pts="
    file: dist/pos.js
    on:
      tags: true
      repo: TransbankDevelopers/transbank-pos-sdk-nodejs
  - provider: npm
    skip_cleanup: true
    email: transbankdevelopers@continuum.cl
    api_token:
      secure: "iETf9mX4b0PZVK4gyYa7vl9GXSro2cCEimL93H3az6d8spj4t5Xh/cV1aD+nEsKyfuW6vQCMpT4lH8zNP1K0eTeuijZUIyjzzGeCUpHe+SXCXm4/F/eK8D8WjPquB9zgvXP6KQCWiPIB6tIAfRUqR8RzJC3AAydoy/EktBtzqz86mG3Bh/vODoIu4XZwKo8QwCq2CldQSsgiDzLg0AbCAkqNNlJ1VS7JVEufy2bFNumfdrR3qE4dXh6wO+ccINBWaRO/HQ8Ec7XH2ME+mTUKL7nJB9wstWx0My2yxNtBa3zSaqMwU1RFDYiIdt+rbxhp1Z9QV/8wB5jZK6OiGGmDtyjw187Bad4I6rzgW/F3ShH/Oc+eUobHn6RB55iXZK+sRHfHJM7sveYf/aFO+ToCW1eWE5+ZiW2y9ApdzfthgQt/ABxDIa1rn/mCmioVygwZ3Ro5tfkQ9TGXOKtUAoIxi3bb4cBVaa9F+Ofg7E+8zkujCgZKJQowbAaKzfezxL5zhVNUEMdVNERaMdzB7ZEgZGQVcmUff3ggfxswU/a+IcYNxh3yevdShosG1y9keNkOaHuQ4xUgw3hBBNEEoDoddtNAVoqkjI+RGHqlEAVbUIiQNq6i0luKd0Ja9pJ0xjXrbLyPn3wxnerKNO5qqj1zyS2HSNizw5bK6xrJUBSPZcs="
    on:
      tags: true
      repo: TransbankDevelopers/transbank-pos-sdk-nodejs
